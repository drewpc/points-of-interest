!function(a){function b(){}function c(a){function c(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function e(b,c){a.fn[b]=function(e){if("string"==typeof e){for(var g=d.call(arguments,1),h=0,i=this.length;i>h;h++){var j=this[h],k=a.data(j,b);if(k)if(a.isFunction(k[e])&&"_"!==e.charAt(0)){var l=k[e].apply(k,g);if(void 0!==l)return l}else f("no such method '"+e+"' for "+b+" instance");else f("cannot call methods on "+b+" prior to initialization; attempted to call '"+e+"'")}return this}return this.each(function(){var d=a.data(this,b);d?(d.option(e),d._init()):(d=new c(this,e),a.data(this,b,d))})}}if(a){var f="undefined"==typeof console?b:function(a){console.error(a)};return a.bridget=function(a,b){c(b),e(a,b)},a.bridget}}var d=Array.prototype.slice;"function"==typeof define&&define.amd?define("node_modules/jquery-bridget/jquery.bridget.js",["jquery"],c):c("object"==typeof exports?require("jquery"):a.jQuery)}(window),function(a){function b(){function b(a,b){"use strict";var c=this;c.point=$(a),c.target=null,c.targetRefreshCount=0,c.isOn=!0,c.options=$.extend(!0,{},c.options,b),c._init()}return b.prototype.options={selectors:{singlePointClass:"cd-single-point",closeClass:"cd-close-info",moreInfoClass:"cd-more-info",openClass:"is-open",visitedClass:"visited"},dataValues:{target:"cd-target",pointLocation:"cd-point-location",pointOffset:"cd-point-offset"},pointLocation:"right top",waitForImageLoad:!0,autoShowPoints:!0,targetRefreshInterval:10},b.prototype._init=function(){"use strict";var a=this,b=$(a.point.data(a.options.dataValues.target));b.length>0&&(a.target=b.first(),a.setPointLocation(),a.registerPointEvents(),a.options.autoShowPoints===!0&&a.turnOn())},b.prototype.setPointLocation=function(){"use strict";var a,b,c,d,e,f,g=this;return null===g.target||null===g.point||null!==g.target&&!g.target.is(":visible")?void g.hide():(b=g.target.offset(),c=g.point.offset(),d=g.point.data(g.options.dataValues.pointLocation).split(" "),b.width=g.target.outerWidth(!1),b.height=g.target.outerHeight(!1),g.options.waitForImageLoad===!0&&(a=g.target.find("img"),(0===b.width||0===b.height)&&a.length>0&&g.targetRefreshCount<5)?(g.targetRefreshCount++,void setTimeout(g.setPointLocation.bind(g),g.options.targetRefreshInterval)):(c.left=b.left,c.top=b.top,c.width=g.point.outerWidth(!1),c.height=g.point.outerHeight(!1),$.each(d,function(a,d){switch(d){case"left":break;case"center":c.left+=b.width/2;break;case"right":c.left+=b.width;break;case"top":break;case"middle":c.top+=b.height/2;break;case"bottom":c.top+=b.height}}),c.left-=c.width/2,c.top-=c.height/2,e=g.point.data(g.options.dataValues.pointOffset),null!==e&&(e=e.split(","),2===e.length&&(c.left+=parseInt(e[0],10),c.top+=parseInt(e[1],10))),g.point.offset({left:c.left,top:c.top}),("fixed"===g.target.css("position")||"fixed"===g.target.offsetParent().css("position"))&&g.point.css("position","fixed"),f=g.target.css("z-index"),f="auto"===f?3e4:parseInt(f)+1,g.point.css("z-index",f),void(g.isOn===!0&&g.show())))},b.prototype.hide=function(){"use strict";var a=this;null!==a.point&&a.point.hide()},b.prototype.show=function(){"use strict";var a=this;a.isOn===!0&&null!==a.point&&null!==a.target&&a.target.is(":visible")&&a.point.show()},b.prototype.turnOn=function(){"use strict";var a=this;a.isOn=!0,a.show()},b.prototype.turnOff=function(){"use strict";var a=this;a.isOn=!1,a.hide()},b.prototype.toggleOnOff=function(){"use strict";var a=this;a.isOn===!0?a.turnOff():a.turnOn()},b.prototype.registerPointEvents=function(){"use strict";var b=this;null!==b.point&&($(a).on("resize poi.set-point-location",b.setPointLocation.bind(b)),b.target.on("resize drag transitionend animationend poi.set-point-location",b.setPointLocation.bind(b)),b.point.on("poi.set-point-location",b.setPointLocation.bind(b)),b.point.children("a").on("click",b.pointOpenEvent.bind(b)),b.point.find("."+b.options.selectors.closeClass).on("click",b.pointCloseEvent.bind(b)))},b.prototype.pointOpenEvent=function(){"use strict";var a=this;null!==a.point&&(a.point.hasClass(a.options.selectors.openClass)?a.point.removeClass(a.options.selectors.openClass).addClass(a.options.selectors.visitedClass):a.point.addClass(a.options.selectors.openClass).siblings("."+a.options.selectors.singlePointClass+"."+a.options.selectors.openClass).removeClass(a.options.selectors.openClass).addClass(a.options.selectors.visitedClass))},b.prototype.pointCloseEvent=function(a){"use strict";var b=this;a.preventDefault(),null!==b.point&&b.point.switchClass(b.options.selectors.openClass,b.options.selectors.visitedClass)},$.bridget("pointOfInterest",b),b}"function"==typeof define&&define.amd?define("js/points-of-interest.js",[],b):"object"==typeof exports?module.exports=b():a.PointOfInterest=b()}(window);